{% extends "base.html" %}
{% block content %}
<body class="hero-image flex-wrapper">
    <div class="container common-holder">
        <div class="h1-header">   
            <h1>Edit Memory</h1>
        </div>
        <div class="common-body">
            <form method="POST" enctype="multipart/form-data" action="{{ url_for('edit_memory', memory_id=memory._id) }}" class="needs-validation" novalidate>                                                              
                <div class="row mt-3 form-group">
                    <label for="tournament_name" class="form-label col-4">Tournament Name</label>
                    <div class="col-8">
                        <select id="tournament_name" name="tournament_name" class="validate" required>
                            <option value="" disabled selected>Choose Tournament</option>
                                {% for tournament in tournaments %}
                                    {% if tournament.tournament_name == memory.tournament_name %}
                                        <option value="{{ tournament.tournament_name }}" selected>{{ tournament.tournament_name }}</option>
                                    {% else %}
                                        <option value="{{ tournament.tournament_name }}">{{ tournament.tournament_name }}</option>
                                    {% endif %}
                                {% endfor %}
                        </select>
                    </div>    
                </div>
               <div class="row mt-3 form-group">
                    <label for="file" class="form-label col-4">Memory Image</label>
                    <div class="col-8">
                        <input class="form-control validate" type="file" id="image" name="image" value="{{ memory.memory_image }}" required>
                        <div class="valid-feedback">
                            Looks good!
                        </div>
                        <div class="invalid-feedback">
                            Please upload a memory image
                        </div>
                    </div>
                </div>
                <div class="row mt-3 form-group">
                    <label for="memory_name" class="form-label col-4">Memory Name</label>
                    <div class="col-8">
                        <input class="form-control" id="memory_name" name="memory_name" type="text" aria-describedby="memory_name" value="{{ memory.memory_name }}" required>
                            <div class="valid-feedback">
                            Looks good!
                            </div>
                            <div class="invalid-feedback">
                            Please enter a memory name
                            </div>
                    </div>
                </div>
                <div class="row mt-3 form-group">
                    <label for="memory_description" class="form-label col-4">Memory Description</label>
                    <div class="col-8">
                        <input class="form-control" id="memory_description" name="memory_description" type="text" value="{{ memory['memory_description'] }}" required>
                        <div class="valid-feedback">
                        Looks good!
                        </div>
                        <div class="invalid-feedback">
                        Please enter a memory description
                        </div>
                    </div>
                </div>
                <div class="row mt-3 form-group">
                    <label for="date" class="col-4 col-form-label">Date</label>
                    <div class="col-8">
                    <input class="form-control" type="date" id="date" name="booking_date" value="{{ memory.memory_date  }}" required> 
                        <div class="valid-feedback">
                            Looks good!
                        </div>
                        <div class="invalid-feedback">
                            Please enter a memory date
                        </div>
                    </div>
                </div>   
               <div class="row mt-3 form-group">
                    <label for="stadium" class="col-4 col-form-label">Stadium</label>
                    <div class="col-8">
                        <input class="form-control" name="stadium" type="text" id="stadium" value="{{ memory.memory_stadium }}" required>
                        <div class="valid-feedback">
                            Looks good!
                        </div>
                        <div class="invalid-feedback">
                            Please enter a stadium
                        </div>
                    </div>
                </div>
                <!-- submit button -->
                <div class="submit-holder">
                    <a href="{{ url_for('get_memories') }}" class="btn btn-danger">Cancel</a>
                    <button type="submit" class="btn btn-primary">Save Changes</button>
                </div>
            </form>
        </div>
</body>        
{% endblock %}